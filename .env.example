# openclaw-secure-stack configuration
# Copy this file to .env and fill in the values.
# DO NOT commit .env to version control.

# API token for authenticating requests to the proxy.
# Auto-generated by install.sh (32 bytes, base64-encoded).
OPENCLAW_TOKEN=

# URL of the upstream OpenClaw instance (internal Docker network).
UPSTREAM_URL=http://openclaw:3000

# Path to the audit log file inside the container.
AUDIT_LOG_PATH=/var/log/audit/audit.jsonl

# Path to the SQLite database for quarantine state.
DB_PATH=/app/data/quarantine.db

# Path to the skills directory.
SKILLS_DIR=/app/skills

# Path to the quarantine directory.
QUARANTINE_DIR=/app/quarantine

# LLM API key (passed through to OpenClaw).
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# --- Governance Configuration ---

# Enable/disable the governance middleware (default: true).
GOVERNANCE_ENABLED=true

# HMAC secret for signing governance approval tokens.
# Auto-generated by install.sh (32 bytes, base64-encoded).
GOVERNANCE_SECRET=

# Timeout in seconds for pending governance approvals (default: 3600).
GOVERNANCE_APPROVAL_TIMEOUT=3600

# Allow the original requester to self-approve (default: true).
GOVERNANCE_ALLOW_SELF_APPROVAL=true

# --- Webhook Configuration (optional) ---

# Telegram bot token — set to enable /webhook/telegram endpoint.
TELEGRAM_BOT_TOKEN=

# WhatsApp Business API credentials — set all four to enable /webhook/whatsapp.
WHATSAPP_APP_SECRET=
WHATSAPP_VERIFY_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=

# Replay protection window for WhatsApp messages in seconds (default: 300).
WHATSAPP_REPLAY_WINDOW_SECONDS=300

# Max webhook requests per minute per IP (default: 60).
WEBHOOK_RATE_LIMIT=60

# --- Plugin Configuration ---

# Enable prompt-guard plugin enforcement in OpenClaw (default: true).
PROMPT_GUARD_ENFORCEMENT=true
